@import '../global/variables.scss';

:root {
  --border: 5px;
  --distance: 46%;
  --from: 30deg;
}

#about-me-container {
  .about-me-contents {
    @include flex-even(row);
    width: 100%;
  }
  .playful {
    display: none;
    // @include flex-center(column);
    .image-wrap {
      position: relative;
      padding: 30px;
    }
    .image-wrap::after {
      content: '';
      border-radius: 999px;
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      background: conic-gradient(
        from var(--from),
        var(--secondary-colour),
        var(--primary-colour) var(--distance),
        transparent var(--distance)
      );
      -webkit-mask: radial-gradient(
        farthest-side,
        transparent calc(100% - var(--border)),
        #fff calc(100% - var(--border) + 1px)
      );
      mask: radial-gradient(
        farthest-side,
        transparent calc(100% - var(--border)),
        #fff calc(100% - var(--border) + 1px)
      );
    }
    img {
      border-radius: 999px;
      max-width: 350px;
    }
    .spotify-container {
      margin-top: 2em;
    }
  }
  .statement-skills {
    max-width: 50vw;
    p {
      font-size: 1.5em;
    }
    ul {
      shape-outside: polygon(30% 0%, 70% 0%, 100% 35%, 85% 100%, 15% 100%, 0 35%);
      @include flex-even(row);
      flex-wrap: wrap;
      padding: 2em;
      .single-skill {
        display: none;
        @include background-fit();
        width: 100px;
        height: 100px;
        // @include flex-center(column);
        border-radius: 10px;
        margin: 1em;
        overflow: visible;
        .skill-text {
          overflow-wrap: normal;
          display: none;
          z-index: 2;
          margin: 0;
          text-align: center;
          font-weight: 900;
          text-wrap: wrap;
          color: #000;
          text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;
        }
      }
      li:hover {
        .skill-text {
          animation: none;
          display: inline-block;
        }
      }
    }
  }
}

#about-me-container {
  .animate-about-me {
    .playful {
      @include flex-center(column);
      .image-wrap::after {
        animation: image-in 1s ease-in-out, catch-image 4s 0s linear;
      }
      img {
        animation: inner-left 1s 2s ease-in both, image-in 2s cubic-bezier(0.5, 0, 0.1, 1) 1s backwards;
      }
      .spotify-container {
        animation: text-clip 2s 0s cubic-bezier(0.5, 0, 0.1, 1) both;
      }
    }
    .statement-skills {
      p {
        animation: inner-right 1s 1s cubic-bezier(0.5, 0, 0.1, 1) both;
        animation: text-clip 2s 0s cubic-bezier(0.5, 0, 0.1, 1) both;
      }
      ul {
        .single-skill {
          // animation: fade-in 2s linear;
          // animation-delay: calc(.1s * var(--i));
          transition: display 1s linear calc(.1s * var(--i));
          @include flex-even(row);
        }
      }
    }
  }
}

@keyframes inner-left {
  from {
    transform: translateX(50%);
  }
  to {
    transform: none;
  }
}

@keyframes inner-right {
  from {
    transform: translateX(-150%);
  }
  to {
    transform: none;
  }
}

@keyframes text-clip {
  from {
    clip-path: polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%);
  }
  to {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
}

@keyframes image-in {
  from {
    clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
  }
  to {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
}

@keyframes catch-image {
  0% {
    transform: rotate(180deg);
  }
  70% {
    transform: rotate(180deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

@keyframes fade-in {
  0% {
    opacity: 0%;
  }
  100% {
    opacity: 100%;
  }
}

@media screen and (prefers-reduced-motion: reduce) {
  .playful { animation: none !important; }
}
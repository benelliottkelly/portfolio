@import '../global/variables.scss';

:root {
  --border: 5px;
  --distance: 46%;
  --from: 30deg;
}

#about-me-container {
  .about-me-contents {
    @include flex-even(row);
    width: 100%;
  }
  .playful {
    @include flex-center(column);
    .image-wrap {
      position: relative;
      padding: 30px;
    }
    .image-wrap::after {
      content: '';
      border-radius: 999px;
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      background: conic-gradient(
        from var(--from),
        var(--secondary-colour),
        var(--primary-colour) var(--distance),
        transparent var(--distance)
      );
      -webkit-mask: radial-gradient(
        farthest-side,
        transparent calc(100% - var(--border)),
        #fff calc(100% - var(--border) + 1px)
      );
      mask: radial-gradient(
        farthest-side,
        transparent calc(100% - var(--border)),
        #fff calc(100% - var(--border) + 1px)
      );
    }
    img {
      border-radius: 999px;
      max-width: 350px;
    }
  }
}

#about-me-container {
  .animate-about-me {
    .playful {
      .image-wrap::after {
        animation: image-in 1s ease-in-out, catch-image 4s 0s linear;
      }
      img {
        animation: inner-left 1s 2s ease-in both, image-in 2s cubic-bezier(0.5, 0, 0.1, 1) 1s backwards;
      }

      .spotify-container {
        animation: text-clip 2s 0s cubic-bezier(0.5, 0, 0.1, 1) both;
      }
    }
    .statement-skills {
      animation: inner-right 1s 1s cubic-bezier(0.5, 0, 0.1, 1) both;
      p, li {
        animation: text-clip 2s 0s cubic-bezier(0.5, 0, 0.1, 1) both;
      }
    }
  }
}

@keyframes inner-left {
  from {
    transform: translateX(50%);
  }
  to {
    transform: none;
  }
}

@keyframes inner-right {
  from {
    transform: translateX(-150%);
  }
  to {
    transform: none;
  }
}

@keyframes text-clip {
  from {
    clip-path: polygon(0% 100%, 100% 100%, 100% 100%, 0% 100%);
  }
  to {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
}

@keyframes image-in {
  from {
    clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
  }
  to {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
}

@keyframes catch-image {
  0% {
    transform: rotate(180deg);
  }
  70% {
    transform: rotate(180deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

@media screen and (prefers-reduced-motion: reduce) {
  .playful { animation: none !important; }
}